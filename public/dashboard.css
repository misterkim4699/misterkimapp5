:root {
  --purple:#7c3aed; --orange:#f97316; --blue:#3b82f6; --green:#16a34a;
  --gray:#9ca3af; --radius:12px; --bg:#f7f8fb; --text:#111;
  --text-muted:#6b7280; --shadow:0 6px 18px rgba(0,0,0,0.05);
  --toast-bg: rgba(0,0,0,0.75);
}

*{margin:0;padding:0;box-sizing:border-box;}
body,html{font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased;}

/* SIDEBAR */
.sidebar {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 25px 20px;
  background: #fff;
  box-shadow: 2px 0 12px rgba(0,0,0,0.05);
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  width: 260px;
  overflow-y: auto;
}

.btn-logout {
  margin-top: auto; /* pousse le bouton en bas */
  padding: 8px 0;
  width: 100%;
  border: none;
  border-radius: var(--radius);
  background: var(--orange);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  transition: 0.18s;
}
.profile{text-align:center;margin-bottom:20px;}
.profile img{width:120px;height:120px;border-radius:50%;object-fit:cover;margin-bottom:10px;border:2px solid var(--purple);}
.profile h3{font-weight:700;margin-bottom:4px;font-size:1.05rem;}
.profile p{font-size:0.9rem;color:var(--text-muted);margin-bottom:6px;}
.btn-logout{margin-top:8px;padding:8px 0;width:100%;border:none;border-radius:var(--radius); background:var(--orange);color:#fff;font-weight:600;cursor:pointer;transition:0.18s;}
.btn-logout:hover{background:#d46000;}
.sidebar-nav{margin-top:12px;}
.sidebar-nav a{display:block;padding:10px 12px;margin:6px 0;border-radius:10px;color:var(--text);text-decoration:none;font-weight:600;transition:0.12s;}
.sidebar-nav a.active,.sidebar-nav a:hover{background:var(--purple);color:#fff;}

/* MODULES SIDEBAR */
.sidebar-module{margin-top:20px;padding-top:12px;border-top:1px solid #eee;}
.sidebar-module h4{font-size:0.95rem;font-weight:700;margin-bottom:8px;color:#333;}
.module-buttons{display:flex;flex-direction:column;gap:6px;}
.module-buttons button{
  display:flex;align-items:center;gap:8px;padding:8px 12px;
  background:#f7f8fb;border:none;border-radius:10px;text-align:left;
  cursor:pointer;font-weight:500;transition:background 0.2s, transform 0.15s;
}
.module-buttons button:hover{background:#e2e8f0;transform:translateX(3px);}

/* MAIN */
.main{margin-left:260px;padding:28px 32px 60px 32px; display:flex;flex-direction:column;gap:36px;min-height:100vh;}
.main-header{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px;padding:24px;border-radius:var(--radius); background:linear-gradient(90deg,var(--purple),var(--orange));color:#fff;box-shadow:var(--shadow);}
.header-text h1{font-size:1.9rem;font-weight:700;margin-bottom:8px;}
.header-text p{font-size:1rem;opacity:0.95;margin-bottom:6px;}
.header-img img{width:140px;height:auto;}

/* STATS */
.stats{display:flex;flex-wrap:wrap;gap:18px;margin-bottom:10px;}
.stat-card{flex:1;min-width:160px;padding:18px;border-radius:var(--radius);color:#fff;text-align:center;box-shadow:var(--shadow);transition:transform .18s ease, box-shadow .18s ease;}
.stat-card:hover{transform:translateY(-6px);}
.stat-card h2{font-size:1.6rem;margin-top:6px;}
.stat-card.blue{background:var(--blue);}
.stat-card.orange{background:var(--orange);}
.stat-card.green{background:var(--green);}
.stat-card.purple{background:var(--purple);}

/* PROJETS */
.projects-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}
.btn{cursor:pointer;border:none;font-weight:700;transition:all .14s ease;border-radius:10px;padding:8px 12px;}
.btn.primary{background:var(--purple);color:#fff;}
.btn.primary:hover{background:var(--orange);color:#fff;}
.btn.ghost{background:#fff;color:var(--purple);border:1px solid var(--purple);}
.projects-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:20px;}
.project-card{background:#fff;padding:18px;border-radius:14px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px;transition:transform .18s ease, box-shadow .18s ease;}
.project-card:hover{transform:translateY(-8px);box-shadow:0 18px 42px rgba(0,0,0,0.12);}
.project-card h3{font-size:1.1rem;margin-bottom:6px;font-weight:700;}
.project-badge{display:inline-block;padding:4px 8px;border-radius:999px;font-size:12px;}
.project-badge.brouillon{background:#f1f1f5;color:#333;}
.project-badge.termine{background:var(--green);color:#fff;}
.project-card p{font-size:0.95rem;color:var(--text-muted);flex:1;}
.project-indicators{display:flex;justify-content:space-between;font-size:12px;color:#666;margin-top:6px;}
.project-actions{display:flex;gap:8px;margin-top:10px;}
.project-actions button{flex:1;padding:8px 10px;border-radius:10px;background:var(--purple);color:#fff;cursor:pointer;}
.project-actions button:hover{background:var(--orange);}

/* MODALES & ACTIVE PROJECT */
.modal-overlay{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,0.35);z-index:60;
}
.new-project-form,
.profile-modal-content,
.active-project{
  display:flex;flex-direction:column;gap:12px;padding:18px;border-radius:14px;
  box-shadow:var(--shadow);background:#fff;min-width:320px;max-width:720px;max-height:90vh;overflow:auto;
}
.new-project-form input,
.new-project-form textarea,
.new-project-form select,
.active-project textarea,
.active-project input{
  width:100%;padding:12px;border-radius:10px;border:1px solid #e2e8f0;resize:vertical;
}
.modal-actions,
.active-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:6px;}
.close-project{background:var(--gray);color:#fff;}
.profile-modal-content{display:flex;flex-direction:column;align-items:center;gap:10px;padding:22px;border-radius:14px;background:#fff;max-width:420px;}
.profile-modal-content img{width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid var(--purple);}

/* TOAST */
.toast{
  position:fixed;right:20px;bottom:20px;background:var(--toast-bg);color:#fff;
  padding:10px 14px;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.2);
  opacity:0;transform:translateY(8px);
  transition:opacity .18s, transform .18s;z-index:80;
}
.toast.show{opacity:1;transform:translateY(0);}

/* ACCESSIBILITY / FOCUS */
button:focus,input:focus,textarea:focus,select:focus{
  outline:3px solid rgba(124,58,237,0.18);outline-offset:2px;
}

/* RESPONSIVE */
@media(max-width:900px){
  .main{margin-left:0;padding:20px;}
  .sidebar{position:relative;width:100%;height:auto;display:flex;flex-direction:row;gap:12px;padding:12px;}
  .projects-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));}
}
@media(max-width:480px){
  .projects-grid{grid-template-columns:1fr;}
  .header-text h1{font-size:1.3rem;}
}

/* ACTIVE PROJECT textarea/input amélioré */
.active-project {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 1000px;
  padding: 30px;
  border-radius: 12px;
  background: #ffffff;
  box-shadow: 0 4px 25px rgba(0,0,0,0.15);
  display: none;
  flex-direction: column;
  gap: 20px;
  z-index: 2000;
}
.active-project textarea,
.active-project input {
  width: 100%;
  min-height: 160px;
  padding: 15px;
  font-size: 1rem;
  border-radius: 12px;
  border: 1px solid #ddd;
}