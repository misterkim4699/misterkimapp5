<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard - MISTERKIMAPP</title>
  <link rel="stylesheet" href="dashboard.css" />
</head>

<body>

  <!-- SIDEBAR -->
  <aside class="sidebar" aria-label="Barre latÃ©rale">
    <div class="profile">
      <img id="profilePhotoPreview" src="images/bestoff2.png" alt="Photo profil Mohamed">
      <h3>Mohamed Kimouche</h3>
      <p>Conducteur & Formateur</p>
      <p id="sidebarGoal">ğŸ¯ Objectif quotidien : 500 mots</p>
      <button class="btn-logout" id="btnLogout">Se dÃ©connecter</button>
    </div>

    <nav class="sidebar-nav">
      <a href="#" class="active" data-nav="dashboard">ğŸ“˜ Tableau de bord</a>
      <a href="#" id="openNewProjectBtn">âœï¸ Nouveau Projet</a>
      <a href="#" id="openProfileBtn">ğŸ‘¤ Profil</a>
      <a href="#">ğŸ“š Templates</a>
      <a href="#">ğŸ¯ Objectifs</a>
    </nav>
  </aside>

  <!-- MAIN -->
  <main class="main" id="main">
    <header class="main-header">
      <div class="header-text">
        <h1>Bonjour, Mohamed</h1>
        <p>PrÃªt Ã  transformer vos idÃ©es en chef-d'Å“uvre ?</p>
        <p id="dailyGoalMessage">âœï¸ Objectif quotidien : <strong id="goalValue">500</strong> mots</p>
      </div>

      <div class="header-img">
        <img src="./images/bestofapp.png" alt="Illustration" />
      </div>
    </header>

    <!-- STATS -->
    <section class="stats">
      <div class="stat-card blue">
        <h3>Projets en cours</h3>
        <h2 id="statProjects">0</h2>
      </div>
      <div class="stat-card orange">
        <h3>Mots Ã©crits</h3>
        <h2 id="statWords">0</h2>
      </div>
      <div class="stat-card green">
        <h3>Objectif du jour</h3>
        <h2 id="statGoal">500</h2>
      </div>
      <div class="stat-card purple">
        <h3>SuccÃ¨s</h3>
        <h2 id="statSuccess">0</h2>
      </div>
    </section>

    <!-- MES PROJETS -->
    <section class="projects">
      <div class="projects-header">
        <h2>Mes projets</h2>
        <button id="newProjectBtn" class="btn primary">+ Nouveau projet</button>
      </div>

      <div class="projects-grid"></div>
    </section>

  </main>

  <!-- NOUVEAU PROJET MODAL -->
  <div class="modal-overlay" id="newProjectModal" style="display:none;">
    <div class="new-project-form" role="dialog">
      <h2>CrÃ©er un projet</h2>
      <form id="projectForm">

        <label>
          <input type="text" name="title" placeholder="Titre du projet" required />
        </label>

        <label>
          <textarea name="description" placeholder="Commencez votre histoire..."></textarea>
        </label>

        <label>
          <select name="style">
            <option value="Fantasy">Fantasy</option>
            <option value="Thriller">Thriller</option>
            <option value="Science Fiction">Science Fiction</option>
            <option value="Romance">Romance</option>
          </select>
        </label>

        <div class="modal-actions">
          <button type="submit" class="btn primary">CrÃ©er le projet</button>
          <button type="button" id="cancelNewProject" class="btn ghost">Annuler</button>
        </div>
      </form>
    </div>
  </div>

  <!-- PROJET ACTIF (NOUVEL Ã‰DITEUR AVANCÃ‰) -->
  <div class="active-project" id="activeProjectModal" style="display:none; max-height:90vh; overflow:auto;">
      <h2>Projet Actif</h2>

      <!-- TITRE -->
      <input id="activeProjectTitle"
             type="text"
             style="padding:12px; font-size:1.2rem; font-weight:bold; border-radius:12px; border:1px solid #ccc;">

      <div class="active-actions">
          <button class="btn primary" id="saveProject">ğŸ’¾ Enregistrer</button>
          <button class="btn" id="deleteProjectBtn">ğŸ—‘ï¸ Supprimer</button>
          <button class="btn ghost close-project">Fermer</button>
      </div>

      <hr>

      <!-- ZONES DE TRAVAIL -->
      <h3>1ï¸âƒ£ Version originale</h3>
      <textarea id="originalText" placeholder="Votre texte original..."></textarea>

      <h3>2ï¸âƒ£ ReformulÃ© (IA)</h3>
      <textarea id="reformulatedText" placeholder="[IA] Reformulation..."></textarea>
      <button class="btn" id="btnReformulate">Reformuler</button>

      <h3>3ï¸âƒ£ Enrichi (IA)</h3>
      <textarea id="enhancedText" placeholder="[IA] Version enrichie..."></textarea>
      <button class="btn" id="btnEnhance">Enrichir</button>

      <h3>4ï¸âƒ£ Plan du texte</h3>
      <textarea id="planText" placeholder="[IA] Plan automatique..."></textarea>
      <button class="btn" id="btnGeneratePlan">GÃ©nÃ©rer un plan</button>

      <hr>

      <h3>ğŸ¯ Affiner lâ€™idÃ©e</h3>
      <textarea id="ideaOutput" placeholder="[IA] Genre, intrigue, personnages..."></textarea>
      <button class="btn" id="btnRefineIdea">GÃ©nÃ©rer des idÃ©es</button>

      <hr>

      <h3>âœï¸ Assistant dâ€™Ã©criture</h3>
      <textarea id="writingAssistantOutput" placeholder="[IA] Suggestions pour continuer votre histoire..."></textarea>
      <button class="btn" id="btnWritingAssistant">Obtenir des suggestions</button>
  </div>

  <!-- PROFIL MODAL -->
  <div class="modal-overlay" id="profileModal" style="display:none;">
    <div class="profile-modal-content">
      <img id="profileModalPhoto" src="images/moedetoulon.jpg" alt="Photo profil">
      <h3>Mohamed Kimouche</h3>
      <p>Conducteur & Formateur</p>
      <p>ğŸ¯ Objectif : Devenir expert IA</p>
      <button id="closeProfileModal" class="btn ghost">Fermer</button>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="toast"></div>

  <script src="dashboard.js"></script>

</body>
</html>